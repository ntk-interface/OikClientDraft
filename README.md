# Заготовка клиентского приложения «ОИК Диспетчер НТ» OikClientDraft

Проект OikClientDraft представляет собой заготовку клиентского приложения для создания лёгкого фиксированного АРМ сервера «ОИК Диспетчер НТ».

Предлагается воспользоваться исходными кодами репозитария для того, чтобы создать собственное приложение, адаптированное под конечное устройство заказчика с учётом его требований к визуальному отображению информации.

Итоговое приложение будет обладать полной кросс-платформенностью. Функциональность работы проверяется на платформах windows-x64, linux-x64  и linux-arm64.

В отличие от других вариантов ПО рабочих станций «ОИК Диспетчер НТ» (Клиент10, Веб-КлиентX и др.) данное исполнение будет обладать меньшим объемом функционала и интерактивности, больше подходит для визуализации ограниченного набора данных, в том числе на стационарных панелях отображения. При этом приложение не требует наладки и может работать даже в условиях ограниченных возможностей устройств ввода данных.

## Информация для разработчиков

Исходные коды являются открытыми, лицензия MIT (см. файл LICENSE в репозитарии).

Вы можете скачать/склонировать репозитарий, вносить любые изменения в проект под требования заказчика, переименовывать выходной файл проекта, публиковать и использовать приложение без каких-либо ограничений.

Если вы готовы поделиться с нами какими-то изменениями, потенциально полезными для других пользователей, мы будем рады любому пулл-реквесту.

### Технологии
Используется платформа для разработки .NET 8.0, язык C# https://learn.microsoft.com/en-us/dotnet/

Для визуального отображения используется графический фреймворк Avalonia https://docs.avaloniaui.net/docs/welcome

### Инструменты

Разрабатывать и публиковать приложение можно на любой предпочитаемой платформе Windows/Linux

Для внесения изменений рекомендуется использовать одну из следующих IDE:

- Visual Studio (наиболее простой вариант для разработки на ОС Windows)
- Jetbrains Rider
- Visual Studio Code

Дополнительно потребуется установить .NET SDK 8.0 или выше https://dotnet.microsoft.com/en-us/download/dotnet/8.0

Обычно установить нужную версию SDK можно прямо при установке IDE.

При разработке с помощью Visual Studio рекомендуется установить плагин фреймворка Avalonia https://docs.avaloniaui.net/docs/get-started/set-up-an-editor

### Быстрый старт

Для начала работы требуется скачать/склонировать данный репозитарий. После чего открыть решение в любой из приведенных выше IDE.

Запустив глобальный поиск по проекту по слову "TODO" можно найти те места, которые рекомендованы к редактированию для создания своего приложения
- Файл Vars.cs, редактируем название приложения, размеры окна, реквизиты для подключения к серверу ОИК (если требуется статическое подключение) и другие необходимые параметры 

TODO здесь будет ещё более подробное описание

### Сборка, публикация и запуск проекта

См. скрипты "publish_windows.ps1", "publish_linux.ps1" и "publish_arm.ps1". Они запускаются с помощью кроссплатформенной командной оболочки Powershell https://learn.microsoft.com/en-us/powershell/

Результаты сборки появятся в каталоге "dist" и подкаталоге соответствующей платформы

По умолчанию результат сборки упаковывается в один файл (кроме нативных библиотек), и включает в себя в том числе среду .NET Runtime. Это означает, что не требуется установка дополнительных программ и библиотек на компьютере АРМ.

Приложение можно запускать без аргументов командной строки, в этом случае будут использоваться реквизиты сервера ОИК по умолчанию (см. файл Vars.cs).

Либо реквизиты сервера можно задать с помощью аргументов командной строки, например:

`` OikClientDraft 10.0.1.12 user password ``

TODO здесь будет ещё более подробное описание

### Подробная структура проекта

- libs/ - каталог требуемых библиотек
  - libif_cfs.dll, libif_cfs.so - системные библиотеки сервера ОИК
  - Iface.Oik.Tm.dll, Iface.Oik.Tm.Native.dll - .NET библиотеки сервера ОИК
- src/ - каталог исходного кода приложения
  - OikClientDraft.csproj - файл описания проекта, не рекомендуется к ручному изменению (за исключением изменения имени выходного файла сборки)
  - Program.cs - входная точка приложения, не рекомендуется к изменению
  - Vars.cs - параметры приложения
  - Bootstrapper.cs - регистрация нужных зависимостей приложения, не рекомендуется к изменению
  - App.axaml, App.axaml.cs - входная точка визуальной части приложения, не рекомендуется к изменению
- src/Assets/ - каталог статических ресурсов
  - favicon.ico - иконка приложения для отображения в окне, панели задач и т.п.
  - svg1.svg, canvas2.png - примеры SVG-документа и графической подложки для страниц. При работе удалить, добавить при необходимости свои
- src/Infrastructure/ - каталог инфраструктурных сервисов приложения
- src/Styles/ - каталог стилей и цветов приложения
- src/Components/ - каталог всех компонентов приложения (главное окно, панели, страницы и т.д.)

TODO здесь будет ещё более подробное описание